---
import Layout from '~/layouts/PageLayout.astro'

const winners = [
  {
    name: "Fawaz",
    avatar: "/TEST/assets/images/tnx-min.jpg",
  },
  {
    name: "Musaad",
    avatar: "/TEST/assets/images/default.png",
  },
]
---
<Layout metadata={{ title: "Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ† â€” TNX6", ignoreTitleTemplate: true }}>

  <style>
    /* Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø´ÙØ§ÙØ© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ */
    #winner-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ø§Ù„ÙˆØ³Ø·ÙŠØ© */
    .winner-popup {
      background: #000000cc;
      border: 2px solid #c6a44f;
      padding: 30px;
      border-radius: 20px;
      width: 320px;
      text-align: center;
      color: white;
      box-shadow: 0 0 25px rgba(255,215,0,0.4);
      animation: popupFade 0.3s ease;
    }

    @keyframes popupFade {
      from { opacity: 0; transform: scale(0.7); }
      to   { opacity: 1; transform: scale(1); }
    }

    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
    .card:active {
      animation: cardPress 0.15s ease;
    }

    @keyframes cardPress {
      0%   { transform: scale(1); box-shadow: 0 0 12px rgba(255,215,0,0.4); }
      50%  { transform: scale(0.96); box-shadow: 0 0 20px rgba(255,215,0,0.6); }
      100% { transform: scale(1); }
    }
  </style>

  <section class="py-24 px-6 text-white">
    <h1 class="text-5xl font-extrabold text-center mb-16 bg-gradient-to-r 
      from-[#ffda6a] to-[#c29200] bg-clip-text text-transparent drop-shadow-lg">
      Ø§Ù„ÙØ§Ø¦Ø²ÙˆÙ†
    </h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-14 max-w-4xl mx-auto">

      {winners.map((winner) => (
        <div class="relative flex flex-col items-center">

          <div
            class="card relative w-[260px] h-[330px] border border-[#c29200]/40 
                   rounded-2xl bg-black/30 shadow-md pt-10
                   hover:scale-[1.06] transition-all duration-300 ease-out
                   hover:shadow-[0_0_25px_rgba(255,215,0,0.25)] cursor-pointer"
          >
            <div class="w-[150px] h-[150px] mx-auto rounded-xl overflow-hidden 
                        border border-[#c29200]/40 shadow-md mb-4">
              <img 
                src={winner.avatar}
                class="w-full h-full object-cover"
                alt={winner.name}
              />
            </div>

            <p class="text-3xl font-bold text-[#ffda6a] text-center tracking-wide"
               style="text-shadow: 0 0 6px rgba(255,215,0,0.35);">
              {winner.name}
            </p>
          </div>

        </div>
      ))}

    </div>
  </section>

  <!-- Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ -->
  <div id="winner-overlay">
    <div class="winner-popup">
      <h2 id="winner-name" class="text-2xl font-bold text-[#ffda6a] mb-4"></h2>
      <p class="text-lg">ÙØ§Ø² ÙÙŠ Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ø·Ø¨Ø® ğŸ‰</p>

      <button 
        onclick="closeWinnerPopup()" 
        class="mt-6 px-4 py-2 bg-[#c6a44f]/30 border border-[#c6a44f]/40 rounded-xl hover:bg-[#c6a44f]/40">
        Ø¥ØºÙ„Ø§Ù‚
      </button>
    </div>
  </div>

  <script>
    document.querySelectorAll(".card").forEach(card => {
      card.addEventListener("click", () => {
        const name = card.querySelector("p").innerText;

        document.getElementById("winner-name").innerText = name;
        document.getElementById("winner-overlay").style.display = "flex";
      });
    });

    function closeWinnerPopup() {
      document.getElementById("winner-overlay").style.display = "none";
    }
  </script>

</Layout>
