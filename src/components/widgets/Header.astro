---
import { Icon } from 'astro-icon/components';
import Logo from '~/components/Logo.astro';
import ToggleTheme from '~/components/common/ToggleTheme.astro';
import ToggleMenu from '~/components/common/ToggleMenu.astro';
import { getHomePermalink } from '~/utils/permalinks';
import { trimSlash } from '~/utils/permalinks';

const currentPath = `/${trimSlash(new URL(Astro.url).pathname)}`;

const navLinks = [
  { text: 'Home', href: '/' },
  { text: 'Commands', href: '/commands' },
  { text: 'Badges', href: '/badges' },
  { text: 'Items', href: '/items' },
  { text: 'Challenges', href: '/challenges' },
];
---

<header
  class="top-0 z-40 relative w-full border-b border-gray-800 bg-[#0b0c10]/80 backdrop-blur-md dark:text-white"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 flex items-center justify-between py-3">
    <a href={getHomePermalink()} class="flex items-center font-bold text-xl tracking-tight">
      <Logo />
      <span class="ml-2">TNX6</span>
    </a>

    <nav class="hidden md:flex space-x-6 text-sm font-medium">
      {navLinks.map(({ text, href }) => (
        <a
          href={href}
          class:list={[
            'transition-colors hover:text-accent',
            { 'text-accent font-semibold': href === currentPath },
          ]}
        >
          {text}
        </a>
      ))}
    </nav>

    <div class="flex items-center space-x-3">
      <ToggleTheme iconClass="w-5 h-5" />
      <div class="md:hidden">
        <ToggleMenu />
      </div>
    </div>
  </div>
</header>
